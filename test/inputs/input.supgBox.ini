[solver]
type = loMach

[loMach]
mesh = meshes/boxStab.msh
order = 1
nFilter = 0
filterWeight = 1.0
maxIters = 10000
outputFreq = 500
fluid = dry_air
refLength = 1.0
equation_system = navier-stokes
enablePressureForcing = True
# pressureGrad = '0.00005372 0.0 0.0'
enableGravity = False
gravity = '0.0 0.0 0.0'
openSystem = False
sgsModel = none
# flow-solver = tomboulides
flow-solver = zero-flow
thermo-solver = calorically-perfect

[loMach/calperfect]
viscosity-model = sutherland
sutherland/mu0 = 1.68e-5
sutherland/T0 = 273.0
sutherland/S0 = 110.4
numerical-integ = false
Prandtl = 0.72
#ic = channel
#hsolve-atol = 1.0e-12
#msolve-atol = 1.0e-12
#hsolve-rtol = 1.0e-10
#msolve-rtol = 1.0e-10
#hsolve-maxIters = 2000
#msolve-maxIters = 2000
streamwise-stabilization = true
#Reh_offset = 1.0
#Reh_factor = 0.01

[loMach/zeroflow]
nonzero-flow = true
nonzero-vel = '1.0 0.0 0.0'

[io]
outdirBase = output_wstab1T
#enableRestart = True
#restartMode = variableP

[time]
enableConstantTimestep = True
integrator = curlcurl
#cfl = 0.4
dt_initial = 1.0e-4
#dtFactor = 0.01
dt_fixed = 1.0e-4
bdfOrder = 1

[spongeMultiplier]
uniform = true
uniformMult = 1.0

[initialConditions]
rho = 1.0
rhoU = 1.0
rhoV = 0.0
rhoW = 0.0
temperature = 300.0
pressure = 101325.0

[boundaryConditions]
numWalls = 0
numInlets = 2
numOutlets = 0

#[boundaryConditions/wall1]
#patch = 1
#type = viscous_isothermal
#temperature = 300
#velocity = '0.0 0.0 0.0'
#
#[boundaryConditions/wall2]
#patch = 3
#type = viscous_isothermal
#temperature = 300
#velocity = '0.0 0.0 0.0'

[boundaryConditions/inlet1]
patch = 4
type = uniform
#swirl = 40.0
#velocity = '1.0 0.0 0.0'
temperature = 300.0

[boundaryConditions/inlet2]
patch = 2
type = uniform
temperature = 270

[periodicity]
enablePeriodic = True
#periodicX = True
periodicY = True

# background velocity set by new ZeroFlow option

# how to set up the specific BCs in config? inlets walls and outlets are hard coded
# mainly need neumann walls, or is that periodicity?