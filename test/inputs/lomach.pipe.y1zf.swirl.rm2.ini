[solver]
type = loMach

[loMach]
axisymmetric = true
#mesh = meshes/axi-pipe-wall.msh
mesh = meshes/axi-pipe-wall-rm2.msh
ref_levels = 0
order = 1
maxIters = 20000
outputFreq = 500
timingFreq = 100
#enablePressureForcing = True
#pressureGrad = '0.0 0.001 0.0'
#enableGravity = True
#gravity = '0.0 0.01'
flow-solver = tomboulides
thermo-solver = constant-property
constprop/rho = 1.0
constprop/mu = 1e-4
turb-model = zeta-f

[ransModel]
#tke-ic = 1.0e-5
#tdr-ic = 1.0e-6
tke-min = 1.0e-10
#tdr-min = 1.0e-9
#v2-min = 1.0e-7
#tke-min = 1.0e-9
#tdr-min = 1.0e-10
#v2-min = 0.6667e-9
#tts-max = 1.0e2
tts-max = 1.0e4
tls-max = 1.0e2
#tls-max = 1.0e0
#tls-min = 1.0e-4
#tts-min = 1.0e-4
#mut-min = 1.0e-7
destruction = 1.0
#destruction = 0.0
#v2-production-rate-coeff-limit = 4

[loMach/tomboulides]
numerical-integ = false
psolve-atol = 1.0e-14
hsolve-atol = 1.0e-12
msolve-atol = 1.0e-12
psolve-rtol = 1.0e-10
hsolve-rtol = 1.0e-10
msolve-rtol = 1.0e-10
psolve-maxIters = 2000
hsolve-maxIters = 2000
msolve-maxIters = 2000
#streamwise-stabilization = false
streamwise-stabilization = true
Reh_offset = 1.0
Reh_factor = 0.1

[io]
outdirBase = output-pipe-swirl-rm2-wstab
enableRestart = False
#enableRestart = True
#restartMode = variableP

[time]
enableConstantTimestep = False
dt_initial = 1.0e-8
cfl = 0.5
dtFactor = 0.01
integrator = curlcurl
bdfOrder = 2

# seems to not be used
[initialConditions]
#useFunction = true
rho = 1.0
rhoU = 0.0
rhoV = 1.0
rhoW = 0.0
temperature = 300.0
pressure = 101325.0

[boundaryConditions]
numWalls = 1
numInlets = 1
numOutlets = 0

[boundaryConditions/wall1]
patch = 5
type = viscous
velocity = '0.0 0.0'

# [boundaryConditions/wall2]
# patch = 2
# type = viscous
# velocity = '0.0 0.0'

[boundaryConditions/inlet1]
patch = 3
type = fully-developed-pipe-swirl
#tke = 0.00001
#tke = 1e-7
#tke = 1.0

[boundaryConditions/outlet1]
patch = 4
type = uniform
pressure = 0.0

#[periodicity]
#enablePeriodic = False
#periodicY = True
#periodicZ = True

